@startuml
' hide circle
skinparam classAttributeIconSize 0

entity "Users" {
  + user_id : INTEGER [PK, AI]
  --
  + email : VARCHAR(255) [UNIQUE, NOT NULL]
  + password : VARCHAR(255) [NOT NULL]
  + created_at : TIMESTAMP
  + updated_at : TIMESTAMP
}

entity "Modules" {
  + module_id : INTEGER [PK, AI]
  --
  + user_id : INTEGER [FK, NOT NULL]
  + name : VARCHAR(255) [NOT NULL]
  + description : TEXT
  + created_at : TIMESTAMP
  + updated_at : TIMESTAMP
}

entity "Projects" {
  + project_id : INTEGER [PK, AI]
  --
  + user_id : INTEGER [FK, NOT NULL]
  + module_id : INTEGER [FK]
  + name : VARCHAR(255) [NOT NULL]
  + description : TEXT
  + created_at : TIMESTAMP
  + updated_at : TIMESTAMP
}

entity "Deadlines" {
  + deadline_id : INTEGER [PK, AI]
  --
  + user_id : INTEGER [FK, NOT NULL]
  + module_id : INTEGER [FK]
  + project_id : INTEGER [FK]
  + title : VARCHAR(255) [NOT NULL]
  + description : TEXT
  + due_date : TIMESTAMP [NOT NULL]
  + created_at : TIMESTAMP
  + updated_at : TIMESTAMP
}

entity "Tasks" {
  + task_id : INTEGER [PK, AI]
  --
  + user_id : INTEGER [FK, NOT NULL]
  + module_id : INTEGER [FK]
  + project_id : INTEGER [FK]
  + deadline_id : INTEGER [FK]
  + title : VARCHAR(255) [NOT NULL]
  + description : TEXT
  + is_completed : BOOLEAN [DEFAULT: false]
  + created_at : TIMESTAMP
  + updated_at : TIMESTAMP
}

entity "LearningPlans" {
  + learning_plan_id : INTEGER [PK, AI]
  --
  + user_id : INTEGER [FK, NOT NULL]
  + name : VARCHAR(255) [NOT NULL]
  + description : TEXT
  + created_at : TIMESTAMP
  + updated_at : TIMESTAMP
}

entity "LearningPlanContent" {
  + content_id : INTEGER [PK, AI]
  --
  + learning_plan_id : INTEGER [FK, NOT NULL]
  + title : VARCHAR(255) [NOT NULL]
  + url : TEXT
  + order : INTEGER
  + created_at : TIMESTAMP
  + updated_at : TIMESTAMP
}

entity "PomodoroSessions" {
  + pomodoro_id : INTEGER [PK, AI]
  --
  + user_id : INTEGER [FK, NOT NULL]
  + task_id : INTEGER [FK, NOT NULL]
  + start_time : TIMESTAMP [NOT NULL]
  + end_time : TIMESTAMP
  + duration : INTEGER
  + created_at : TIMESTAMP
  + updated_at : TIMESTAMP
}

' Beziehungen
Users ||--o{ Modules : manages
Users ||--o{ Projects : creates
Users ||--o{ Deadlines : creates
Users ||--o{ Tasks : creates
Users ||--o{ LearningPlans : creates
Users ||--o{ PomodoroSessions : tracks
Modules ||--o{ Projects : contains
Modules ||--o{ Deadlines : has
Modules ||--o{ Tasks : has
Projects ||--o{ Deadlines : has
Projects ||--o{ Tasks : has
Deadlines ||--o{ Tasks : has
LearningPlans ||--o{ LearningPlanContent : has
LearningPlans ||--o{ Tasks : has
Tasks ||--o{ PomodoroSessions : tracked by

@enduml